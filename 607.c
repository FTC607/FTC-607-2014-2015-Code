#pragma config(Hubs,  S1, HTMotor,  HTMotor,  HTServo,  none)
#pragma config(Hubs,  S2, HTMotor,  HTMotor,  none,     none)
#pragma config(Sensor, S1,     ,               sensorI2CMuxController)
#pragma config(Sensor, S2,     ,               sensorI2CMuxController)
#pragma config(Motor,  motorA,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  motorB,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  motorC,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  mtr_S1_C1_1,     leftDrive,     tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C1_2,     rightDrive,    tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S1_C2_1,     topLeft,       tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C2_2,     bottomLeft,    tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S2_C1_1,     bottomRight,   tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S2_C1_2,     topRight,      tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S2_C2_1,     spinner,       tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S2_C2_2,     arm,           tmotorTetrix, openLoop)
#pragma config(Servo,  srvo_S1_C3_1,    door,                 tServoContinuousRotation)
#pragma config(Servo,  srvo_S1_C3_2,    servo2,               tServoNone)
#pragma config(Servo,  srvo_S1_C3_3,    servo3,               tServoNone)
#pragma config(Servo,  srvo_S1_C3_4,    servo4,               tServoNone)
#pragma config(Servo,  srvo_S1_C3_5,    servo5,               tServoNone)
#pragma config(Servo,  srvo_S1_C3_6,    servo6,               tServoNone)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "JoystickDriver.c"
#include "chassi.c"
#include "manipulator.c"
int leftPower; //used to keep the power of the left drive motor
int rightPower; //used to keep the power of the right drive motor


void loopmain()
{
		getJoystickSettings(joystick); //gets the positions of all of the joysticks and buttons
		//Threshold for Left Motor
		if(joystick.joy1_y1>10) //if the left, driver joystick is positive
			leftPower=100; //set the power to 100
		else if(joystick.joy1_y1<-10) //or if the left, driver joystick is negative
			leftPower=-100; //set the power to -100
		else leftPower=0; //Otherwise the power will be 0
		//Threshold for Right Motor
		if(joystick.joy1_y2>10) //if the right, driver joystick is positive
			rightPower=100; //set the power for the right motor to the joystick value--It will be positive
		else if(joystick.joy1_y2<-10) //or if the right, driver joystick is positive
			rightPower=-100; //set the power for the right motor to the joystick value--It will be negative
		else rightPower=0; //Otherwise the power will be 0

drive(leftPower,rightPower); //calls the drive function located in chassis.The two arguments are the left and right joystick positions which are assigned in the above code

	 if(joystick.joy2_y2>20)
				rotate(70);
		else if(joystick.joy2_y2<-20)
				rotate(-70);
	 else rotate(0);

		//Threshold and Individual Control of the lift
		if(joystick.joy2_y1>10)
				lift(joystick.joy2_y1);
		else if(joystick.joy2_y1<-10)
				lift(joystick.joy2_y1);
	 else lift(0);

		if(joy2Btn(1)){ //turns the spinner on and off with the one button
			toggleSpinning(-1); //calls toggleSpinning in 607_manipulator with negative direction
		}
		else if(joy2Btn(2)){ //turns the spinner off
			toggleSpinning(0); //calls toggleSpinning in 607_manipulator with zero speed
		}
		else if(joy2Btn(3)){ //turns the spinnner forward
			toggleSpinning(1); //calls the toggleSpinning in 607_manipulator with positive direction
		}
		spin(); //calls the spin function in 607_manipulator
		if(joy2Btn(4))
			toggleDoor();
}
task main()
{
	while(true)
	{
		//loopmain();
		motor[spinner]=100;
	}

}
